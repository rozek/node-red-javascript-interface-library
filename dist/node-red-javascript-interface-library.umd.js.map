{"version":3,"file":"node-red-javascript-interface-library.umd.js","sources":["../src/node-red-javascript-interface-library.ts"],"sourcesContent":["//----------------------------------------------------------------------------//\n//                        JavaScript Interface Library                        //\n//----------------------------------------------------------------------------//\n\n/**** get a reference to the \"global\" object ****/\n\n  export const global = /*#__PURE__*/ Function('return this')()\n// see https://stackoverflow.com/questions/3277182/how-to-get-the-global-object-in-javascript\n\n//------------------------------------------------------------------------------\n//--                             Object Functions                             --\n//------------------------------------------------------------------------------\n// allow methods from Object.prototype to be applied to \"vanilla\" objects\n\n/**** Object_hasOwnProperty ****/\n\n  export function Object_hasOwnProperty (Value:Object, PropertyName:string):boolean {\n    return (\n      (Value == null) ||              // let this method crash like its original\n      ('hasOwnProperty' in Value) && (typeof Value.hasOwnProperty === 'function')\n      ? Value.hasOwnProperty(PropertyName)\n      : Object.prototype.hasOwnProperty.call(Value,PropertyName)\n    )\n  }\n\n/**** Object_isPrototypeOf ****/\n\n  export function Object_isPrototypeOf (Value:Object, Candidate:any):boolean {\n    return (\n      (Value == null) ||              // let this method crash like its original\n      ('isPrototypeOf' in Value) && (typeof Value.isPrototypeOf === 'function')\n      ? Value.isPrototypeOf(Candidate)\n      : Object.prototype.isPrototypeOf.call(Value,Candidate)\n    )\n  }\n\n/**** Object_propertyIsEnumerable ****/\n\n  export function Object_propertyIsEnumerable (Value:Object, PropertyName:string):boolean {\n    return (\n      (Value == null) ||              // let this method crash like its original\n      ('propertyIsEnumerable' in Value) && (typeof Value.propertyIsEnumerable === 'function')\n      ? Value.propertyIsEnumerable(PropertyName)\n      : Object.prototype.propertyIsEnumerable.call(Value,PropertyName)\n    )\n  }\n\n/**** Object_toString ****/\n\n  export function Object_toString (Value:Object):string {\n    return (\n      (Value == null) ||              // let this method crash like its original\n      ('toString' in Value) && (typeof Value.toString === 'function')\n      ? Value.toString()\n      : Object.prototype.toString.call(Value)\n    )\n  }\n\n/**** Object_toLocaleString ****/\n\n  export function Object_toLocaleString (Value:Object):string {\n    return (\n      (Value == null) ||              // let this method crash like its original\n      ('toLocaleString' in Value) && (typeof Value.toLocaleString === 'function')\n      ? Value.toLocaleString()\n      : Object.prototype.toString.call(Value)\n    ) // a missing \"toLocaleString\" method will crash Object.prototype.toLocaleString\n  }\n\n/**** Object_valueOf ****/\n\n  export function Object_valueOf (Value:Object):any {\n    return (\n      (Value == null) ||              // let this method crash like its original\n      ('valueOf' in Value) && (typeof Value.valueOf === 'function')\n      ? Value.valueOf()\n      : Object.prototype.valueOf.call(Value)\n    )\n  }\n\n/**** ObjectMergedWith ****/\n\n  export function ObjectMergedWith (\n    TargetObject:object, ...otherObjectList:object[]\n  ):object {\n    for (let i = 0, l = otherObjectList.length; i < l; i++) {\n      let otherObject = otherObjectList[i]\n      if (otherObject == null) { continue }\n\n      if (typeof otherObject === 'object') {\n        for (let Key in otherObject) {\n          let Descriptor = Object.getOwnPropertyDescriptor(otherObject,Key)\n          if (Descriptor != null) {\n            Object.defineProperty(TargetObject,Key,Descriptor)\n          }\n        }\n      } else {\n        throwError('InvalidArgument: argument #' + (i+1) + ' is not an object')\n      }\n    }\n\n    return TargetObject\n  }\n\n/**** throwError - simplifies construction of named errors ****/\n\n  export function throwError (Message:string):never {\n    let Match = /^([$a-zA-Z][$a-zA-Z0-9]*):\\s*(\\S.+)\\s*$/.exec(Message)\n    if (Match == null) {\n      throw new Error(Message)\n    } else {\n      let namedError = new Error(Match[2])\n        namedError.name = Match[1]\n      throw namedError\n    }\n  }\n\n//------------------------------------------------------------------------------\n//--                      Value Classification Functions                      --\n//------------------------------------------------------------------------------\n\n/**** ValueExists ****/\n\n  export function ValueExists (Value:any):boolean {\n    return (Value != null)\n  }\n\n/**** ValueIsMissing ****/\n\n  export function ValueIsMissing (Value:any):boolean {\n    return (Value == null)\n  }\n\n/**** ValueIsBoolean ****/\n\n  export function ValueIsBoolean (Value:any):boolean {\n    return (typeof Value === 'boolean') || (Value instanceof Boolean)\n  }\n\n/**** ValueIsNumber ****/\n\n  export function ValueIsNumber (Value:any):boolean {\n    return (typeof Value === 'number') || (Value instanceof Number)\n  }\n\n/**** ValueIsFiniteNumber (pure \"isFinite\" breaks on objects) ****/\n\n  export function ValueIsFiniteNumber (Value:any):boolean {\n    return (\n      (typeof Value === 'number') || (Value instanceof Number)\n    ) && isFinite(Value.valueOf())\n  }\n\n/**** ValueIsNaN (numeric, but NaN - this differs from pure \"isNaN\") ****/\n\n  export function ValueIsNaN (Value:any):boolean {\n    return (\n      (typeof Value === 'number') || (Value instanceof Number)\n    ) && isNaN(Value.valueOf())\n  }\n\n/**** ValueIsNumberInRange ****/\n\n  export function ValueIsNumberInRange (\n    Value:any, minValue?:number, maxValue?:number,\n    withMin:boolean = true, withMax:boolean = true\n  ):boolean {\n    if (! ValueIsNumber(Value) || isNaN(Value)) { return false }\n\n    if (ValueIsFiniteNumber(minValue)) {    // more robust than \"isFinite\" alone\n      if (ValueIsFiniteNumber(maxValue)) {  // more robust than \"isFinite\" alone\n        if (\n          (Value < (minValue as Number)) || (! withMin && (Value === minValue)) ||\n          (Value > (maxValue as Number)) || (! withMax && (Value === maxValue))\n        ) {\n          return false\n        }\n      } else {\n        if ((Value < (minValue as Number)) || (! withMin && (Value === minValue))) {\n          return false\n        }\n      }\n    } else {\n      if (ValueIsFiniteNumber(maxValue)) {  // more robust than \"isFinite\" alone\n        if ((Value > (maxValue as Number)) || (! withMax && (Value === maxValue))) {\n          return false\n        }\n      }\n    }\n\n    return true\n  }\n\n/**** ValueIsInteger ****/\n\n  export function ValueIsInteger (Value:any):boolean {\n    if ((typeof Value !== 'number') && ! (Value instanceof Number)) {\n      return false\n    }\n\n    Value = Value.valueOf()\n    return isFinite(Value) && (Math.round(Value) === Value)\n  }\n\n/**** ValueIsIntegerInRange ****/\n\n  export function ValueIsIntegerInRange (\n    Value:any, minValue?:number, maxValue?:number\n  ):boolean {\n    if (! ValueIsInteger(Value) || isNaN(Value)) { return false }\n\n    if (ValueIsFiniteNumber(minValue)) {    // more robust than \"isFinite\" alone\n      if (ValueIsFiniteNumber(maxValue)) {  // more robust than \"isFinite\" alone\n        if ((Value < (minValue as Number)) || (Value > (maxValue as Number))) {\n          return false\n        }\n      } else {\n        if (Value < (minValue as Number)) {\n          return false\n        }\n      }\n    } else {\n      if (ValueIsFiniteNumber(maxValue)) {  // more robust than \"isFinite\" alone\n        if (Value > (maxValue as Number)) {\n          return false\n        }\n      }\n    }\n\n    return true\n  }\n\n/**** ValueIsOrdinal ****/\n\n  export function ValueIsOrdinal (Value:any):boolean {\n    if ((typeof Value !== 'number') && ! (Value instanceof Number)) {\n      return false\n    }\n\n    Value = Value.valueOf()\n    return isFinite(Value) && (Math.round(Value) === Value) && (Value >= 0)\n  }\n\n/**** ValueIsCardinal ****/\n\n  export function ValueIsCardinal (Value:any):boolean {\n    if ((typeof Value !== 'number') && ! (Value instanceof Number)) {\n      return false\n    }\n\n    Value = Value.valueOf()\n    return isFinite(Value) && (Math.round(Value) === Value) && (Value >= 1)\n  }\n\n/**** ValueIsString ****/\n\n  export function ValueIsString (Value:any):boolean {\n    return (typeof Value === 'string') || (Value instanceof String)\n  }\n\n/**** ValueIs[Non]EmptyString ****/\n\n  const emptyStringPattern = /^\\s*$/\n\n  export function ValueIsEmptyString (Value:any):boolean {\n    return (\n      (typeof Value === 'string') || (Value instanceof String)\n    ) && emptyStringPattern.test(Value.valueOf())\n  }\n\n  export function ValueIsNonEmptyString (Value:any):boolean {\n    return (\n      (typeof Value === 'string') || (Value instanceof String)\n    ) && ! emptyStringPattern.test(Value.valueOf())\n  }\n\n/**** ValueIsStringMatching ****/\n\n  export function ValueIsStringMatching (Value:any, Pattern:RegExp):boolean {\n    return (\n      (typeof Value === 'string') || (Value instanceof String)\n    ) && Pattern.test(Value.valueOf())\n  }\n\n/**** ValueIsText ****/\n\n  const noCtrlCharsButCRLFPattern = /^[^\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x9F\\u2028\\u2029\\uFFF9-\\uFFFB]*$/\n\n  export function ValueIsText (Value:any):boolean {\n    return ValueIsStringMatching(Value,noCtrlCharsButCRLFPattern)\n  }\n\n/**** ValueIsTextline ****/\n\n  const noCtrlCharsPattern = /^[^\\x00-\\x1F\\x7F-\\x9F\\u2028\\u2029\\uFFF9-\\uFFFB]*$/\n\n  export function ValueIsTextline (Value:any):boolean {\n    return ValueIsStringMatching(Value,noCtrlCharsPattern)\n  }\n\n/**** ValueIsFunction ****/\n\n  export function ValueIsFunction (Value:any):boolean {\n    return (typeof Value === 'function')\n  }\n\n/**** ValueIsAnonymousFunction ****/\n\n  export function ValueIsAnonymousFunction (Value:any):boolean {\n    return (\n      (typeof Value === 'function') &&\n      ((Value.name == null) || (Value.name === ''))\n    )\n  }\n\n/**** ValueIsNamedFunction ****/\n\n  export function ValueIsNamedFunction (Value:any):boolean {\n    return (\n      (typeof Value === 'function') &&\n      (Value.name != null) && (Value.name !== '')\n    )\n  }\n\n/**** ValueIsNativeFunction ****/\n\n  export function ValueIsNativeFunction (Value:any):boolean {\n    return (\n      (typeof Value === 'function') &&\n      /^function\\s*[^(]*\\(\\)\\s*\\{\\s*\\[native code\\]\\s*\\}\\s*$/.test(Value.toString())\n    )\n  }\n\n/**** ValueIsScriptedFunction ****/\n\n  export function ValueIsScriptedFunction (Value:any):boolean {\n    return (\n      (typeof Value === 'function') &&\n      ! /^function\\s*[^(]*\\(\\)\\s*\\{\\s*\\[native code\\]\\s*\\}\\s*$/.test(Value.toString())\n    )\n  }\n\n/**** ValueIsObject ****/\n\n  export function ValueIsObject (Value:any):boolean {\n    return (Value != null) && (typeof Value === 'object')\n  }\n\n/**** ValueIsPlainObject ****/\n\n  export function ValueIsPlainObject (Value:any):boolean {\n    return (\n      (Value != null) && (typeof Value === 'object') &&\n      (Object.getPrototypeOf(Value) === Object.prototype)\n    )\n  }\n\n/**** ValueIsVanillaObject ****/\n\n  export function ValueIsVanillaObject (Value:any):boolean {\n    return (\n      (Value != null) && (typeof Value === 'object') &&\n      ! (Value instanceof Object)\n    )\n  }\n\n/**** ValueIsArray ****/\n\n  export let ValueIsArray = Array.isArray\n\n/**** ValueIsList (\"dense\" array) ****/\n\n  export function ValueIsList (\n    Value:any, minLength?:number, maxLength?:number\n  ):boolean {\n    if (ValueIsArray(Value)) {\n      for (let i = 0, l = Value.length; i < l; i++) {\n        if (Value[i] === undefined) { return false }\n      }\n\n      if (minLength != null) {\n        if (Value.length < minLength) { return false }\n      }\n\n      if (maxLength != null) {\n        if (Value.length > maxLength) { return false }\n      }\n      return true\n    }\n\n    return false\n  }\n\n/**** ValueIsListSatisfying ****/\n\n  export function ValueIsListSatisfying (\n    Value:any, Validator:Function, minLength?:number, maxLength?:number\n  ):boolean {\n    if (ValueIsArray(Value)) {\n      try {\n        for (let i = 0, l = Value.length; i < l; i++) {\n          if (Validator(Value[i]) == false) { return false }\n        }\n\n        if (minLength != null) {\n          if (Value.length < minLength) { return false }\n        }\n\n        if (maxLength != null) {\n          if (Value.length > maxLength) { return false }\n        }\n        return true\n      } catch (Signal) { /* nop */ }\n    }\n\n    return false\n  }\n\n/**** ValueIsInstanceOf ****/\n\n  export function ValueIsInstanceOf (Value:any, Constructor:Function):boolean {\n    return (Value instanceof Constructor)\n  }\n\n/**** ValueInheritsFrom ****/\n\n  export function ValueInheritsFrom (Value:any, Prototype:Object):boolean {\n    return Object_isPrototypeOf(Prototype,Value)\n  }\n\n/**** ValueIsDate ****/\n\n  export function ValueIsDate (Value:any):boolean {\n    return (Value instanceof Date)\n  }\n\n/**** ValueIsError ****/\n\n  export function ValueIsError (Value:any):boolean {\n    return (Value instanceof Error)\n  }\n\n/**** ValueIsPromise ****/\n\n  export function ValueIsPromise (Value:any):boolean {\n    return (Value != null) && (typeof Value.then === 'function')\n  }\n// see https://stackoverflow.com/questions/27746304/how-do-i-tell-if-an-object-is-a-promise\n\n/**** ValueIsRegExp ****/\n\n  export function ValueIsRegExp (Value:any):boolean {\n    return (Value instanceof RegExp)\n  }\n\n/**** ValueIsOneOf ****/\n\n  export function ValueIsOneOf (Value:any, ValueList:any[]):boolean {\n    return (ValueList.indexOf(Value) >= 0)\n  }                     // no automatic unboxing of boxed values and vice-versa!\n\n/**** ValueIsColor ****/\n\n  export function ValueIsColor (Value:any):boolean {\n    return ValueIsString(Value) && (\n      ColorSet.hasOwnProperty (Value) ||\n      /^#[a-fA-F0-9]{6}$/.test(Value) ||\n      /^#[a-fA-F0-9]{8}$/.test(Value) ||\n      /^rgb\\([0-9]+,\\s*[0-9]+,\\s*[0-9]+\\)$/.test(Value) ||        // not perfect\n      /^rgba\\([0-9]+,\\s*[0-9]+,\\s*[0-9]+,([01]|[0]?[.][0-9]+)\\)$/.test(Value) // dto.\n    )\n  }\n\n/**** ValueIsEMailAddress ****/\n\n  const EMailAddressPattern = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/\n  // see https://stackoverflow.com/questions/201323/how-to-validate-an-email-address-using-a-regular-expression\n\n  export function ValueIsEMailAddress (Value:any):boolean {\n    return ValueIsStringMatching(Value, EMailAddressPattern)\n  }\n\n/**** ValueIsURL ****/\n\n  const noCtrlCharsOrWhitespacePattern = /^[^\\s\\x00-\\x1F\\x7F-\\x9F\\u2028\\u2029\\uFFF9-\\uFFFB]*$/\n\n  export function ValueIsURL (Value:any):boolean {\n    if (\n      ! ValueIsStringMatching(Value, noCtrlCharsOrWhitespacePattern) ||\n      (Value === '')\n    ) { return false }\n\n    try {\n      new URL(Value, 'file://')\n      return true\n    } catch (Signal) {\n      return false\n    }\n  }\n\n//------------------------------------------------------------------------------\n//--                      Argument Validation Functions                       --\n//------------------------------------------------------------------------------\n\n  export const rejectNil = false\n  export const acceptNil = true\n\n/**** validatedArgument ****/\n\n  export function validatedArgument (\n    Description:string, Argument:any, ValueIsValid:(Value:any) => boolean,\n    NilIsAcceptable:boolean, Expectation:string\n  ):any|null|undefined {\n    if (Argument == null) {\n      if (NilIsAcceptable) {\n        return Argument\n      } else {\n        throwError(`MissingArgument: no ${escaped(Description)} given`)\n      }\n    } else {\n      if (ValueIsValid(Argument)) {\n        switch (true) {\n          case Argument instanceof Boolean:\n          case Argument instanceof Number:\n          case Argument instanceof String:\n            return Argument.valueOf()                  // unboxes any primitives\n          default:\n            return Argument\n        }\n      } else {\n        throwError(\n          `InvalidArgument: the given ${escaped(Description)} is no valid ${escaped(Expectation)}`\n        )\n      }\n    }\n  }\n\n/**** ValidatorForClassifier ****/\n\n  export function ValidatorForClassifier (\n    Classifier:(Value:any) => boolean, NilIsAcceptable:boolean,\n    Expectation:string\n  ):Function {\n    let Validator = function (Description:string, Argument:any):any {\n      return validatedArgument(\n        Description, Argument, Classifier, NilIsAcceptable, Expectation\n      )\n    }\n\n    let ClassifierName = Classifier.name\n    if ((ClassifierName != null) && /^ValueIs/.test(ClassifierName)) {\n      let ValidatorName = ClassifierName.replace(  // derive name from validator\n        /^ValueIs/, NilIsAcceptable ? 'allow' : 'expect'\n      )\n      return FunctionWithName(Validator,ValidatorName)\n    } else {\n      return Validator                              // without any specific name\n    }\n  }\n\n/**** FunctionWithName (works with older JS engines as well) ****/\n\n  export function FunctionWithName (\n    originalFunction:Function, desiredName:string|String\n  ):Function {\n    if (originalFunction == null) {\n      throwError('MissingArgument: no function given')\n    }\n    if (typeof originalFunction !== 'function') {\n      throwError('InvalidArgument: the given 1st Argument is not a JavaScript function')\n    }\n\n    if (desiredName == null) {\n      throwError('MissingArgument: no desired name given')\n    }\n    if ((typeof desiredName !== 'string') && ! (desiredName instanceof String)) {\n      throwError('InvalidArgument: the given desired name is not a string')\n    }\n\n    if (originalFunction.name === desiredName) { return originalFunction }\n\n    try {\n      Object.defineProperty(originalFunction, 'name', { value:desiredName })\n      if (originalFunction.name === desiredName) { return originalFunction }\n    } catch (signal) { /* ok - let's take the hard way */ }\n\n    let renamed = new Function(\n      'originalFunction', 'return function ' + desiredName + ' () {' +\n        'return originalFunction.apply(this,Array.prototype.slice.apply(arguments))' +\n      '}'\n    )\n    return renamed(originalFunction)\n  }                                  // also works with older JavaScript engines\n\n/**** expect[ed]Value ****/\n\n  export function expectValue (Description:string, Argument:any):any {\n    if (Argument == null) {\n      throwError(`MissingArgument: no ${escaped(Description)} given`)\n    } else {\n      return Argument.valueOf()\n    }\n  }\n  export const expectedValue = expectValue\n\n/**** allow/expect[ed]Boolean ****/\n\n  export const allowBoolean = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsBoolean, acceptNil, 'boolean value'\n  ), allowedBoolean = allowBoolean\n\n  export const expectBoolean = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsBoolean, rejectNil, 'boolean value'\n  ), expectedBoolean = expectBoolean\n\n/**** allow/expect[ed]Number ****/\n\n  export const allowNumber = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNumber, acceptNil, 'numeric value'\n  ), allowedNumber = allowNumber\n\n  export const expectNumber = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNumber, rejectNil, 'numeric value'\n  ), expectedNumber = expectNumber\n\n/**** allow/expect[ed]FiniteNumber ****/\n\n  export const allowFiniteNumber = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsFiniteNumber, acceptNil, 'finite numeric value'\n  ), allowedFiniteNumber = allowFiniteNumber\n\n  export const expectFiniteNumber = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsFiniteNumber, rejectNil, 'finite numeric value'\n  ), expectedFiniteNumber = expectFiniteNumber\n\n/**** allow/expect[ed]NaN ****/\n\n  export const allowNaN = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNaN, acceptNil, 'NaN value'\n  ), allowedNaN = allowNaN\n\n  export const expectNaN = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNaN, rejectNil, 'NaN value'\n  ), expectedNaN = expectNaN\n\n/**** allow[ed]NumberInRange ****/\n\n  export function allowNumberInRange (\n    Description:string, Argument:any,\n    minValue?:number, maxValue?:number, withMin?:boolean, withMax?:boolean\n  ):number|null|undefined {\n    return (Argument == null\n      ? Argument\n      : expectedNumberInRange(Description, Argument, minValue,maxValue, withMin,withMax)\n    )\n  }\n  export const allowedNumberInRange = allowNumberInRange\n\n/**** expect[ed]NumberInRange ****/\n\n  export function expectNumberInRange (\n    Description:string, Argument:any,\n    minValue?:number, maxValue?:number, withMin?:boolean, withMax?:boolean\n  ):number {\n    expectNumber(Description, Argument)\n\n    if (isNaN(Argument)) {\n      throwError(\n        `InvalidArgument: the given ${escaped(Description)} is not-a-number`\n      )\n    }\n\n    if (withMin == null) { withMin = true }\n    if (withMax == null) { withMax = true }\n\n    if ((minValue != null) && isFinite(minValue)) {\n      if ((maxValue != null) && isFinite(maxValue)) {\n        if (\n          (Argument < minValue) || (! withMin && (Argument === minValue)) ||\n          (Argument > maxValue) || (! withMax && (Argument === maxValue))\n        ) {\n          throw new RangeError(\n            `the given ${escaped(Description)} (${Argument}) is outside ` +\n            `the allowed range (${minValue}...${maxValue})`\n          )\n        }\n      } else {\n        if ((Argument < minValue) || (! withMin && (Argument === minValue))) {\n          throw new RangeError(\n            `the given ${escaped(Description)} is below the allowed ` +\n            `minimum (${Argument} ${withMin ? '<' : '<='} ${minValue})`\n          )\n        }\n      }\n    } else {\n      if ((maxValue != null) && isFinite(maxValue)) {\n        if ((Argument > maxValue) || (! withMax && (Argument === maxValue))) {\n          throw new RangeError(\n            `the given ${escaped(Description)} exceeds the allowed ` +\n            `maximum (${Argument} ${withMax ? '>' : '>='} ${maxValue})`\n          )\n        }\n      }\n    }\n\n    return Argument.valueOf()\n  }\n  export const expectedNumberInRange = expectNumberInRange\n\n/**** allow/expect[ed]Integer ****/\n\n  export const allowInteger = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsInteger, acceptNil, 'integral numeric value'\n  ), allowedInteger = allowInteger\n\n  export const expectInteger = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsInteger, rejectNil, 'integral numeric value'\n  ), expectedInteger = expectInteger\n\n/**** allow[ed]IntegerInRange ****/\n\n  export function allowIntegerInRange (\n    Description:string, Argument:any, minValue?:number, maxValue?:number\n  ):number|null|undefined {\n    return (Argument == null\n      ? Argument\n      : expectedIntegerInRange(Description, Argument, minValue,maxValue)\n    )\n  }\n  export const allowedIntegerInRange = allowIntegerInRange\n\n/**** expect[ed]IntegerInRange ****/\n\n  export function expectIntegerInRange (\n    Description:string, Argument:any, minValue?:number, maxValue?:number\n  ):number {\n    expectInteger(Description, Argument)\n\n    if (isNaN(Argument)) {\n      throwError(\n        `InvalidArgument: the given ${escaped(Description)} is not-a-number`\n      )\n    }\n\n    if ((minValue != null) && isFinite(minValue)) {\n      if ((maxValue != null) && isFinite(maxValue)) {\n        if ((Argument < minValue) || (Argument > maxValue)) {\n          throw new RangeError(\n            `the given ${escaped(Description)} (${Argument}) is outside ` +\n            `the allowed range (${minValue}...${maxValue})`\n          )\n        }\n      } else {\n        if (Argument < minValue) {\n          throw new RangeError(\n            `the given ${escaped(Description)} is below the allowed ` +\n            `minimum (${Argument} < ${minValue})`\n          )\n        }\n      }\n    } else {\n      if ((maxValue != null) && isFinite(maxValue)) {\n        if (Argument > maxValue) {\n          throw new RangeError(\n            `the given ${escaped(Description)} exceeds the allowed ` +\n            `maximum (${Argument} > ${maxValue})`\n          )\n        }\n      }\n    }\n\n    return Argument.valueOf()\n  }\n  export const expectedIntegerInRange = expectIntegerInRange\n\n/**** allow/expect[ed]Ordinal ****/\n\n  export const allowOrdinal = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsOrdinal, acceptNil, 'ordinal number'\n  ), allowedOrdinal = allowOrdinal\n\n  export const expectOrdinal = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsOrdinal, rejectNil, 'ordinal number'\n  ), expectedOrdinal = expectOrdinal\n\n/**** allow/expect[ed]Cardinal ****/\n\n  export const allowCardinal = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsCardinal, acceptNil, 'cardinal number'\n  ), allowedCardinal = allowCardinal\n\n  export const expectCardinal = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsCardinal, rejectNil, 'cardinal number'\n  ), expectedCardinal = expectCardinal\n\n/**** allow/expect[ed]String ****/\n\n  export const allowString = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsString, acceptNil, 'literal string'\n  ), allowedString = allowString\n\n  export const expectString = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsString, rejectNil, 'literal string'\n  ), expectedString = expectString\n\n/**** allow/expect[ed]NonEmptyString ****/\n\n  export const allowNonEmptyString = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNonEmptyString, acceptNil, 'non-empty literal string'\n  ), allowedNonEmptyString = allowNonEmptyString\n\n  export const expectNonEmptyString = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNonEmptyString, rejectNil, 'non-empty literal string'\n  ), expectedNonEmptyString = expectNonEmptyString\n\n/**** allow[ed]StringMatching ****/\n\n  export function allowStringMatching (\n    Description:string, Argument:any, Pattern:RegExp\n  ):string|null|undefined {\n    return (Argument == null\n      ? Argument\n      : expectedStringMatching(Description, Argument, Pattern)\n    )\n  }\n  export const allowedStringMatching = allowStringMatching\n\n/**** expect[ed]StringMatching ****/\n\n  export function expectStringMatching (\n    Description:string, Argument:any, Pattern:RegExp\n  ):string {\n    expectString(Description, Argument)\n\n    if (Pattern.test(Argument)) {\n      return Argument.valueOf()\n    } else {\n      throwError(\n        `InvalidArgument: the given ${escaped(Description)} does not match the specified pattern`\n      )\n    }\n  }\n  export const expectedStringMatching = expectStringMatching\n\n/**** allow/expect[ed]Text ****/\n\n  export const allowText = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsText, acceptNil, 'literal text'\n  ), allowedText = allowText\n\n  export const expectText = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsText, rejectNil, 'literal text'\n  ), expectedText = expectText\n\n/**** allow/expect[ed]Textline ****/\n\n  export const allowTextline = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsTextline, acceptNil, 'single line of text'\n  ), allowedTextline = allowTextline\n\n  export const expectTextline = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsTextline, rejectNil, 'single line of text'\n  ), expectedTextline = expectTextline\n\n/**** allow/expect[ed]Function ****/\n\n  export const allowFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsFunction, acceptNil, 'JavaScript function'\n  ), allowedFunction = allowFunction\n\n  export const expectFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsFunction, rejectNil, 'JavaScript function'\n  ), expectedFunction = expectFunction\n\n/**** allow/expect[ed]AnonymousFunction ****/\n\n  export const allowAnonymousFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsAnonymousFunction, acceptNil, 'anonymous JavaScript function'\n  ), allowedAnonymousFunction = allowAnonymousFunction\n\n  export const expectAnonymousFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsAnonymousFunction, rejectNil, 'anonymous JavaScript function'\n  ), expectedAnonymousFunction = expectAnonymousFunction\n\n/**** allow/expect[ed]NamedFunction ****/\n\n  export const allowNamedFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNamedFunction, acceptNil, 'named JavaScript function'\n  ), allowedNamedFunction = allowNamedFunction\n\n  export const expectNamedFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNamedFunction, rejectNil, 'named JavaScript function'\n  ), expectedNamedFunction = expectNamedFunction\n\n/**** allow/expect[ed]NativeFunction ****/\n\n  export const allowNativeFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNativeFunction, acceptNil, 'native JavaScript function'\n  ), allowedNativeFunction = allowNativeFunction\n\n  export const expectNativeFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNativeFunction, rejectNil, 'native JavaScript function'\n  ), expectedNativeFunction = expectNativeFunction\n\n/**** allow/expect[ed]ScriptedFunction ****/\n\n  export const allowScriptedFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsScriptedFunction, acceptNil, 'scripted JavaScript function'\n  ), allowedScriptedFunction = allowScriptedFunction\n\n  export const expectScriptedFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsScriptedFunction, rejectNil, 'scripted JavaScript function'\n  ), expectedScriptedFunction = expectScriptedFunction\n\n/**** allow/expect[ed]Object ****/\n\n  export const allowObject = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsObject, acceptNil, 'JavaScript object'\n  ), allowedObject = allowObject\n\n  export const expectObject = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsObject, rejectNil, 'JavaScript object'\n  ), expectedObject = expectObject\n\n/**** allow/expect[ed]PlainObject ****/\n\n  export const allowPlainObject = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsPlainObject, acceptNil, '\"plain\" JavaScript object'\n  ), allowedPlainObject = allowPlainObject\n\n  export const expectPlainObject = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsPlainObject, rejectNil, '\"plain\" JavaScript object'\n  ), expectedPlainObject = expectPlainObject\n\n/**** allow/expect[ed]VanillaObject ****/\n\n  export const allowVanillaObject = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsVanillaObject, acceptNil, '\"vanilla\" JavaScript object'\n  ), allowedVanillaObject = allowVanillaObject\n\n  export const expectVanillaObject = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsVanillaObject, rejectNil, '\"vanilla\" JavaScript object'\n  ), expectedVanillaObject = expectVanillaObject\n\n/**** allow[ed]Array ****/\n\n  export function allowArray (Description:string, Argument:any):any[]|null|undefined {\n    return (Argument == null\n      ? Argument\n      : expectedArray(Description,Argument)\n    )\n  }\n  export const allowedArray = allowArray\n\n/**** expect[ed]Array ****/\n\n  export function expectArray (Description:string, Argument:any):any[] {\n    if (Argument == null) {\n      throwError(`MissingArgument: no ${escaped(Description)} given`)\n    }\n\n    if (ValueIsArray(Argument)) {\n      return Argument\n    } else {\n      throwError(\n        `InvalidArgument: the given ${escaped(Description)} is no JavaScript array`\n      )\n    }\n  }\n  export const expectedArray = expectArray\n\n/**** allow[ed]List ****/\n\n  export function allowList (\n    Description:string, Argument:any, Expectation?:string,\n    minLength?:number, maxLength?:number\n  ):any[]|null|undefined {\n    return (Argument == null\n      ? Argument\n      : expectedList(Description, Argument, Expectation, minLength,maxLength)\n    )\n  }\n  export const allowedList = allowList\n\n/**** expect[ed]List ****/\n\n  export function expectList (\n    Description:string, Argument:any, Expectation?:string,\n    minLength?:number, maxLength?:number\n  ):any[] {\n    if (Argument == null) {\n      throwError(`MissingArgument: no ${escaped(Description)} given`)\n    }\n\n    if (ValueIsList(Argument, minLength,maxLength)) {\n      return Argument\n    } else {\n      throwError(\n        `InvalidArgument: the given ${escaped(Description)} is ` + (\n          Expectation == null\n          ? 'either not a list or contains an invalid number of elements'\n          : 'no ' + escaped(Expectation)\n        )\n      )\n    }\n  }\n  export const expectedList = expectList\n\n/**** allow[ed]ListSatisfying ****/\n\n  export function allowListSatisfying (\n    Description:string, Argument:any, Validator:(Value:any) => boolean,\n    Expectation?:string, minLength?:number, maxLength?:number\n  ):any[]|null|undefined {\n    return (Argument == null\n      ? Argument\n      : expectedListSatisfying(\n          Description, Argument, Validator, Expectation, minLength,maxLength\n        )\n    )\n  }\n  export const allowedListSatisfying = allowListSatisfying\n\n/**** expect[ed]ListSatisfying ****/\n\n  export function expectListSatisfying (\n    Description:string, Argument:any, Validator:(Value:any) => boolean,\n    Expectation?:string, minLength?:number, maxLength?:number\n  ):any[] {\n    if (Argument == null) {\n      throwError(`MissingArgument: no ${escaped(Description)} given`)\n    }\n\n    if (ValueIsListSatisfying(Argument,Validator, minLength,maxLength)) {\n      return Argument\n    } else {\n      throwError(\n        `InvalidArgument: the given ${escaped(Description)} is ` + (\n          Expectation == null\n          ? 'either not a list or contains invalid elements'\n          : 'no ' + escaped(Expectation)\n        )\n      )\n    }\n  }\n  export const expectedListSatisfying = expectListSatisfying\n\n/**** allow[ed]InstanceOf ****/\n\n  export function allowInstanceOf (\n    Description:string, Argument:any, constructor:Function, Expectation:string\n  ):any|null|undefined {\n    return (Argument == null\n      ? Argument\n      : expectedInstanceOf(Description, Argument, constructor, Expectation)\n    )\n  }\n  export const allowedInstanceOf = allowInstanceOf\n\n/**** expect[ed]InstanceOf ****/\n\n  export function expectInstanceOf (\n    Description:string, Argument:any, constructor:Function, Expectation:string\n  ):any {\n    if (Argument == null) {\n      throwError(`MissingArgument: no ${escaped(Description)} given`)\n    }\n\n    if (! (Argument instanceof constructor)) {\n      throwError(\n        `InvalidArgument: the given ${escaped(Description)} is no ${escaped(Expectation)}`\n      )\n    }\n\n    return Argument\n  }\n  export const expectedInstanceOf = expectInstanceOf\n\n/**** allow[ed]ValueInheritingFrom ****/\n\n  export function allowValueInheritingFrom (\n    Description:string, Argument:any, prototype:any, Expectation:string\n  ):any|null|undefined {\n    return (Argument == null\n      ? Argument\n      : expectedValueInheritingFrom(Description, Argument, prototype, Expectation)\n    )\n  }\n  export const allowedValueInheritingFrom = allowValueInheritingFrom\n\n/**** expect[ed]ValueInheritingFrom ****/\n\n  export function expectValueInheritingFrom (\n    Description:string, Argument:any, prototype:any, Expectation:string\n  ):any {\n    if (Argument == null) {\n      throwError(`MissingArgument: no ${escaped(Description)} given`)\n    }\n\n    if (prototype.isPrototypeOf(Argument)) {\n      return Argument\n    } else {\n      throwError(\n        `InvalidArgument: the given ${escaped(Description)} is no ${escaped(Expectation)}`\n      )\n    }\n  }\n  export const expectedValueInheritingFrom = expectValueInheritingFrom\n\n/**** allow/expect[ed]Date ****/\n\n  export const allowDate = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsDate, acceptNil, 'JavaScript Date object'\n  ), allowedDate = allowDate\n\n  export const expectDate = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsDate, rejectNil, 'JavaScript Date object'\n  ), expectedDate = expectDate\n\n/**** allow/expect[ed]Error ****/\n\n  export const allowError = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsError, acceptNil, 'JavaScript Error object'\n  ), allowedError = allowError\n\n  export const expectError = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsError, rejectNil, 'JavaScript Error object'\n  ), expectedError = expectError\n\n/**** allow/expect[ed]Promise ****/\n\n  export const allowPromise = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsPromise, acceptNil, 'JavaScript Promise (or \"Thenable\") object'\n  ), allowedPromise = allowPromise\n\n  export const expectPromise = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsPromise, rejectNil, 'JavaScript Promise (or \"Thenable\") object'\n  ), expectedPromise = expectPromise\n\n/**** allow/expect[ed]RegExp ****/\n\n  export const allowRegExp = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsRegExp, acceptNil, 'JavaScript RegExp object'\n  ), allowedRegExp = allowRegExp\n\n  export const expectRegExp = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsRegExp, rejectNil, 'JavaScript RegExp object'\n  ), expectedRegExp = expectRegExp\n\n/**** allow[ed]OneOf ****/\n\n  export function allowOneOf (\n    Description:string, Argument:any, ValueList:any[]\n  ):any|null|undefined {\n    return (Argument == null\n      ? Argument\n      : expectedOneOf(Description, Argument, ValueList)\n    )\n  }\n  export const allowedOneOf = allowOneOf\n\n/**** expect[ed]OneOf ****/\n\n  export function expectOneOf (\n    Description:string, Argument:any, ValueList:any[]\n  ):any {\n    if (Argument == null) {\n      throwError(`MissingArgument: no ${escaped(Description)} given`)\n    }\n\n    if (ValueIsOneOf(Argument,ValueList)) {\n      return (                                         // unboxes any primitives\n        (Argument == null) || (typeof Argument.valueOf !== 'function')\n        ? Argument\n        : Argument.valueOf()\n      )\n    } else {\n      throwError(\n        `InvalidArgument: the given ${escaped(Description)} is not among the supported values`\n      )\n    }\n  }\n  export const expectedOneOf = expectOneOf\n\n/**** allow/expect[ed]Color ****/\n\n  export const allowColor = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsColor, acceptNil, 'CSS color specification'\n  ), allowedColor = allowColor\n\n  export const expectColor = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsColor, rejectNil, 'CSS color specification'\n  ), expectedColor = expectColor\n\n/**** allow/expect[ed]EMailAddress ****/\n\n  export const allowEMailAddress = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsEMailAddress, acceptNil, 'EMail address'\n  ), allowedEMailAddress = allowEMailAddress\n\n  export const expectEMailAddress = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsEMailAddress, rejectNil, 'EMail address'\n  ), expectedEMailAddress = expectEMailAddress\n\n/**** allow/expect[ed]URL ****/\n\n  export const allowURL = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsURL, acceptNil, 'URL'\n  ), allowedURL = allowURL\n\n  export const expectURL = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsURL, rejectNil, 'URL'\n  ), expectedURL = expectURL\n\n/**** escaped - escapes all control characters in a given string ****/\n\n  export function escaped (Text:string):string {\n    const EscapeSequencePattern = /\\\\x[0-9a-zA-Z]{2}|\\\\u[0-9a-zA-Z]{4}|\\\\[0bfnrtv'\"\\\\\\/]?/g\n    const CtrlCharCodePattern  = /[\\x00-\\x1f\\x7f-\\x9f]/g\n\n    return Text\n      .replace(EscapeSequencePattern, function (Match:string):string {\n        return (Match === '\\\\' ? '\\\\\\\\' : Match)\n      })\n      .replace(CtrlCharCodePattern, function (Match:string):string {\n        switch (Match) {\n          case '\\0':  return '\\\\0'\n          case '\\b':  return '\\\\b'\n          case '\\f':  return '\\\\f'\n          case '\\n':  return '\\\\n'\n          case '\\r':  return '\\\\r'\n          case '\\t':  return '\\\\t'\n          case '\\v':  return '\\\\v'\n          default: {\n            let HexCode = Match.charCodeAt(0).toString(16)\n            return '\\\\x' + '00'.slice(HexCode.length) + HexCode\n          }\n        }\n      })\n  }\n\n/**** unescaped - evaluates all escape sequences in a given string ****/\n\n  export function unescaped (Text:string):string {\n    const EscapeSequencePattern = /\\\\[0bfnrtv'\"\\\\\\/]|\\\\x[0-9a-zA-Z]{2}|\\\\u[0-9a-zA-Z]{4}/g\n\n    return Text\n      .replace(EscapeSequencePattern, function (Match:string):string {\n        switch (Match) {\n          case '\\\\0':  return '\\0'\n          case '\\\\b':  return '\\b'\n          case '\\\\f':  return '\\f'\n          case '\\\\n':  return '\\n'\n          case '\\\\r':  return '\\r'\n          case '\\\\t':  return '\\t'\n          case '\\\\v':  return '\\v'\n          case '\\\\\\'': return \"'\"\n          case '\\\\\"':  return '\"'\n          case '\\\\\\\\': return \"\\\\\"\n          default: {\n            let CharCode = parseInt(Match.slice(2),16)\n            return String.fromCharCode(CharCode)\n          }\n        }\n    })\n  }\n\n/**** quotable - makes a given string ready to be put in single/double quotes ****/\n\n  export function quotable (Text:string, Quote:'\"' | \"'\" = '\"'):string {\n    const EscSeqOrSglQuotePattern = /\\\\x[0-9a-zA-Z]{2}|\\\\u[0-9a-zA-Z]{4}|\\\\[0bfnrtv'\"\\\\\\/]?|'/g\n    const EscSeqOrDblQuotePattern = /\\\\x[0-9a-zA-Z]{2}|\\\\u[0-9a-zA-Z]{4}|\\\\[0bfnrtv'\"\\\\\\/]?|\"/g\n    const CtrlCharCodePattern     = /[\\x00-\\x1f\\x7f-\\x9f]/g\n\n    return Text\n      .replace(\n        Quote === \"'\" ? EscSeqOrSglQuotePattern : EscSeqOrDblQuotePattern,\n        function (Match:string):string {\n          switch (Match) {\n            case \"'\":  return \"\\\\'\"\n            case '\"':  return '\\\\\"'\n            case '\\\\': return '\\\\\\\\'\n            default:   return Match\n          }\n        }\n      )\n      .replace(CtrlCharCodePattern, function (Match:string):string {\n        switch (Match) {\n          case '\\0':  return '\\\\0'\n          case '\\b':  return '\\\\b'\n          case '\\f':  return '\\\\f'\n          case '\\n':  return '\\\\n'\n          case '\\r':  return '\\\\r'\n          case '\\t':  return '\\\\t'\n          case '\\v':  return '\\\\v'\n          default: {\n            let HexCode = Match.charCodeAt(0).toString(16)\n            return '\\\\x' + '00'.slice(HexCode.length) + HexCode\n          }\n        }\n      })\n  }\n\n/**** quoted ****/\n\n  export function quoted (Text:string, Quote:'\"' | \"'\" = '\"'):string {\n    return Quote + quotable(Text,Quote) + Quote\n  }\n\n/**** HTMLsafe ****/\n\n  export function HTMLsafe (Argument:string, EOLReplacement?:string):string {\n    EOLReplacement = (EOLReplacement || '').trim() || '<br/>'\n    return Argument.replace(\n      /[&<>\"'\\u0000-\\u001F\\u007F-\\u009F\\\\]/g, function (Match:string):string {\n        switch (Match) {\n          case '&':  return '&amp;'\n          case '<':  return '&lt;'\n          case '>':  return '&gt;'\n          case '\"':  return '&quot;'\n          case \"'\":  return '&apos;'\n          case '\\b': return '&#92;b'\n          case '\\f': return '&#92;f'\n          case '\\n': return EOLReplacement as string\n          case '\\r': return '&#92;r'\n          case '\\t': return '&#92;t'\n          case '\\v': return '&#92;v'\n          case '\\\\': return '&#92;'\n          default:   let Result = Match.charCodeAt(0).toString(16)\n                     return '&#x0000'.substring(3,7-Result.length) + Result + ';'\n        }\n      }\n    )\n  }\n\n/**** MarkDownSafe ****/\n\n  export function MarkDownSafe (Argument:string, EOLReplacement?:string):string {\n    return HTMLsafe(Argument, EOLReplacement).replace(/:/g,'&#58;')\n  }\n\n/**** ValuesDiffer ****/\n\n  export function ValuesDiffer (\n    thisValue:any, otherValue:any, Mode?:'by-value'|'by-reference'|undefined\n  ):boolean {\n    if (thisValue === otherValue) { return false }\n\n    let thisType = typeof thisValue\n    if (thisType !== typeof otherValue) { return true }\n\n    /**** ArraysDiffer ****/\n\n      function ArraysDiffer (\n        thisArray:any[], otherArray:any[], Mode:'by-value'|'by-reference'|undefined\n      ):boolean {\n        if (! Array.isArray(otherArray)) { return true }\n\n        if (thisArray.length !== otherArray.length) { return true }\n\n        for (let i = 0, l = thisArray.length; i < l; i++) {\n          if (ValuesDiffer(thisArray[i],otherArray[i],Mode)) { return true }\n        }\n\n        return false\n      }\n\n    /**** ObjectsDiffer ****/\n\n      function ObjectsDiffer (\n        thisObject:any, otherObject:any, Mode:'by-value'|'by-reference'|undefined\n      ):boolean {\n        if (Object.getPrototypeOf(thisObject) !== Object.getPrototypeOf(otherObject)) {\n          return true\n        }\n\n        for (let key in thisObject) {\n          if (! (key in otherObject)) { return true }\n        }\n\n        for (let key in otherObject) {\n          if (! (key in thisObject)) { return true }\n\n          if (ValuesDiffer(thisObject[key],otherObject[key],Mode)) {\n            return true\n          }\n        }\n\n        return false\n      }\n\n    switch (thisType) {\n      case 'undefined':\n      case 'boolean':\n      case 'string':\n      case 'function': return true   // most primitives are compared using \"===\"\n      case 'number':   return (\n                         (isNaN(thisValue) !== isNaN(otherValue)) ||\n                         (Math.abs(thisValue-otherValue) > Number.EPSILON)\n                       )\n      case 'object':\n        if (thisValue  == null) { return true }  // since \"other_value\" != null!\n        if (otherValue == null) { return true }   // since \"this_value\" != null!\n\n        if ((Mode === 'by-value') && (\n          (thisValue instanceof Boolean) ||\n          (thisValue instanceof Number) ||\n          (thisValue instanceof String)\n        )) {\n          return (thisValue.valueOf() !== otherValue.valueOf())\n        }\n\n        if (Array.isArray(thisValue)) {\n          return ArraysDiffer(thisValue,otherValue,Mode)\n        }\n\n        return (\n          Mode === 'by-reference'\n          ? true                           // because (thisValue !== otherValue)\n          : ObjectsDiffer(thisValue,otherValue,Mode)\n        )\n      default: return true                          // unsupported property type\n    }\n\n    return true\n  }\n\n/**** ValuesAreEqual ****/\n\n  export function ValuesAreEqual (\n    thisValue:any, otherValue:any, Mode?:'by-value'|'by-reference'|undefined\n  ):boolean {\n    return ! ValuesDiffer(thisValue,otherValue,Mode)\n  }\n\n/**** ObjectIsEmpty ****/\n\n  export function ObjectIsEmpty (Candidate:any):boolean {\n    expectObject('candidate',Candidate)\n    for (let Key in Candidate) {\n      if (Object_hasOwnProperty(Candidate,Key)) {\n        return false\n      }\n    }\n    return true\n  }\n\n/**** ObjectIsNotEmpty ****/\n\n  export function ObjectIsNotEmpty (Candidate:any):boolean {\n    return ! ObjectIsEmpty(Candidate)\n  }\n\n/**** StringIsEmpty ****/\n\n  export function StringIsEmpty (Candidate:string):boolean {\n    return /^\\s*$/.test(Candidate)\n  }\n\n/**** StringIsNotEmpty ****/\n\n  export function StringIsNotEmpty (Candidate:string):boolean {\n    return ! StringIsEmpty(Candidate)\n  }\n\n/**** constrained ****/\n\n  export function constrained (\n    Value:number, Minimum:number = -Infinity, Maximum:number = Infinity\n  ):number {\n    return Math.max(Minimum, Math.min(Value, Maximum))\n  }\n\n//------------------------------------------------------------------------------\n//--                             Color Utilities                              --\n//------------------------------------------------------------------------------\n\n// built-in color names (see http://www.w3.org/TR/SVG/types.html#ColorKeywords) ----\n\n  export const ColorSet = {\n           transparent:'rgba(0,0,0,0,0.0)',\n             aliceblue:'rgba(240,248,255,1.0)',         lightpink:'rgba(255,182,193,1.0)',\n          antiquewhite:'rgba(250,235,215,1.0)',       lightsalmon:'rgba(255,160,122,1.0)',\n                  aqua:'rgba(0,255,255,1.0)',       lightseagreen:'rgba(32,178,170,1.0)',\n            aquamarine:'rgba(127,255,212,1.0)',      lightskyblue:'rgba(135,206,250,1.0)',\n                 azure:'rgba(240,255,255,1.0)',    lightslategray:'rgba(119,136,153,1.0)',\n                 beige:'rgba(245,245,220,1.0)',    lightslategrey:'rgba(119,136,153,1.0)',\n                bisque:'rgba(255,228,196,1.0)',    lightsteelblue:'rgba(176,196,222,1.0)',\n                 black:'rgba(0,0,0,1.0)',             lightyellow:'rgba(255,255,224,1.0)',\n        blanchedalmond:'rgba(255,235,205,1.0)',              lime:'rgba(0,255,0,1.0)',\n                  blue:'rgba(0,0,255,1.0)',             limegreen:'rgba(50,205,50,1.0)',\n            blueviolet:'rgba(138,43,226,1.0)',              linen:'rgba(250,240,230,1.0)',\n                 brown:'rgba(165,42,42,1.0)',             magenta:'rgba(255,0,255,1.0)',\n             burlywood:'rgba(222,184,135,1.0)',            maroon:'rgba(128,0,0,1.0)',\n             cadetblue:'rgba(95,158,160,1.0)',   mediumaquamarine:'rgba(102,205,170,1.0)',\n            chartreuse:'rgba(127,255,0,1.0)',          mediumblue:'rgba(0,0,205,1.0)',\n             chocolate:'rgba(210,105,30,1.0)',       mediumorchid:'rgba(186,85,211,1.0)',\n                 coral:'rgba(255,127,80,1.0)',       mediumpurple:'rgba(147,112,219,1.0)',\n        cornflowerblue:'rgba(100,149,237,1.0)',    mediumseagreen:'rgba(60,179,113,1.0)',\n              cornsilk:'rgba(255,248,220,1.0)',   mediumslateblue:'rgba(123,104,238,1.0)',\n               crimson:'rgba(220,20,60,1.0)',   mediumspringgreen:'rgba(0,250,154,1.0)',\n                  cyan:'rgba(0,255,255,1.0)',     mediumturquoise:'rgba(72,209,204,1.0)',\n              darkblue:'rgba(0,0,139,1.0)',       mediumvioletred:'rgba(199,21,133,1.0)',\n              darkcyan:'rgba(0,139,139,1.0)',        midnightblue:'rgba(25,25,112,1.0)',\n         darkgoldenrod:'rgba(184,134,11,1.0)',          mintcream:'rgba(245,255,250,1.0)',\n              darkgray:'rgba(169,169,169,1.0)',         mistyrose:'rgba(255,228,225,1.0)',\n             darkgreen:'rgba(0,100,0,1.0)',              moccasin:'rgba(255,228,181,1.0)',\n              darkgrey:'rgba(169,169,169,1.0)',       navajowhite:'rgba(255,222,173,1.0)',\n             darkkhaki:'rgba(189,183,107,1.0)',              navy:'rgba(0,0,128,1.0)',\n           darkmagenta:'rgba(139,0,139,1.0)',             oldlace:'rgba(253,245,230,1.0)',\n        darkolivegreen:'rgba(85,107,47,1.0)',               olive:'rgba(128,128,0,1.0)',\n            darkorange:'rgba(255,140,0,1.0)',           olivedrab:'rgba(107,142,35,1.0)',\n            darkorchid:'rgba(153,50,204,1.0)',             orange:'rgba(255,165,0,1.0)',\n               darkred:'rgba(139,0,0,1.0)',             orangered:'rgba(255,69,0,1.0)',\n            darksalmon:'rgba(233,150,122,1.0)',            orchid:'rgba(218,112,214,1.0)',\n          darkseagreen:'rgba(143,188,143,1.0)',     palegoldenrod:'rgba(238,232,170,1.0)',\n         darkslateblue:'rgba(72,61,139,1.0)',           palegreen:'rgba(152,251,152,1.0)',\n         darkslategray:'rgba(47,79,79,1.0)',        paleturquoise:'rgba(175,238,238,1.0)',\n         darkslategrey:'rgba(47,79,79,1.0)',        palevioletred:'rgba(219,112,147,1.0)',\n         darkturquoise:'rgba(0,206,209,1.0)',          papayawhip:'rgba(255,239,213,1.0)',\n            darkviolet:'rgba(148,0,211,1.0)',           peachpuff:'rgba(255,218,185,1.0)',\n              deeppink:'rgba(255,20,147,1.0)',               peru:'rgba(205,133,63,1.0)',\n           deepskyblue:'rgba(0,191,255,1.0)',                pink:'rgba(255,192,203,1.0)',\n               dimgray:'rgba(105,105,105,1.0)',              plum:'rgba(221,160,221,1.0)',\n               dimgrey:'rgba(105,105,105,1.0)',        powderblue:'rgba(176,224,230,1.0)',\n            dodgerblue:'rgba(30,144,255,1.0)',             purple:'rgba(128,0,128,1.0)',\n             firebrick:'rgba(178,34,34,1.0)',                 red:'rgba(255,0,0,1.0)',\n           floralwhite:'rgba(255,250,240,1.0)',         rosybrown:'rgba(188,143,143,1.0)',\n           forestgreen:'rgba(34,139,34,1.0)',           royalblue:'rgba(65,105,225,1.0)',\n               fuchsia:'rgba(255,0,255,1.0)',         saddlebrown:'rgba(139,69,19,1.0)',\n             gainsboro:'rgba(220,220,220,1.0)',            salmon:'rgba(250,128,114,1.0)',\n            ghostwhite:'rgba(248,248,255,1.0)',        sandybrown:'rgba(244,164,96,1.0)',\n                  gold:'rgba(255,215,0,1.0)',            seagreen:'rgba(46,139,87,1.0)',\n             goldenrod:'rgba(218,165,32,1.0)',           seashell:'rgba(255,245,238,1.0)',\n                  gray:'rgba(128,128,128,1.0)',            sienna:'rgba(160,82,45,1.0)',\n                 green:'rgba(0,128,0,1.0)',                silver:'rgba(192,192,192,1.0)',\n           greenyellow:'rgba(173,255,47,1.0)',            skyblue:'rgba(135,206,235,1.0)',\n                  grey:'rgba(128,128,128,1.0)',         slateblue:'rgba(106,90,205,1.0)',\n              honeydew:'rgba(240,255,240,1.0)',         slategray:'rgba(112,128,144,1.0)',\n               hotpink:'rgba(255,105,180,1.0)',         slategrey:'rgba(112,128,144,1.0)',\n             indianred:'rgba(205,92,92,1.0)',                snow:'rgba(255,250,250,1.0)',\n                indigo:'rgba(75,0,130,1.0)',          springgreen:'rgba(0,255,127,1.0)',\n                 ivory:'rgba(255,255,240,1.0)',         steelblue:'rgba(70,130,180,1.0)',\n                 khaki:'rgba(240,230,140,1.0)',               tan:'rgba(210,180,140,1.0)',\n              lavender:'rgba(230,230,250,1.0)',              teal:'rgba(0,128,128,1.0)',\n         lavenderblush:'rgba(255,240,245,1.0)',           thistle:'rgba(216,191,216,1.0)',\n             lawngreen:'rgba(124,252,0,1.0)',              tomato:'rgba(255,99,71,1.0)',\n          lemonchiffon:'rgba(255,250,205,1.0)',         turquoise:'rgba(64,224,208,1.0)',\n             lightblue:'rgba(173,216,230,1.0)',            violet:'rgba(238,130,238,1.0)',\n            lightcoral:'rgba(240,128,128,1.0)',             wheat:'rgba(245,222,179,1.0)',\n             lightcyan:'rgba(224,255,255,1.0)',             white:'rgba(255,255,255,1.0)',\n  lightgoldenrodyellow:'rgba(250,250,210,1.0)',        whitesmoke:'rgba(245,245,245,1.0)',\n             lightgray:'rgba(211,211,211,1.0)',            yellow:'rgba(255,255,0,1.0)',\n            lightgreen:'rgba(144,238,144,1.0)',       yellowgreen:'rgba(154,205,50,1.0)',\n             lightgrey:'rgba(211,211,211,1.0)',\n  }\n\n/**** HexColor - converts a given color to #rrggbbaa ****/\n\n  export function HexColor (Color:string):string {\n    let lowerColor = Color.toLowerCase()\n    if (ColorSet.hasOwnProperty(lowerColor)) {\n// @ts-ignore TS dislikes indexing with literal keys\n      Color = ColorSet[lowerColor]\n    } // do not return here as color is now in RGBA format\n\n    if (/^#[a-fA-F0-9]{6}$/.test(Color)) {\n      return Color + 'FF'\n    }\n\n    if (/^#[a-fA-F0-9]{8}$/.test(Color)) {\n      return Color\n    }\n\n    const HexDigit = '0123456789ABCDEF'\n    function dec2hex (Value:number):string {\n      if (Value > 255) { Value = 255 }\n      return HexDigit[Math.trunc(Value / 16)] + HexDigit[Value % 16]\n    }\n\n    const RGBPattern = /^rgb\\(([0-9]+),\\s*([0-9]+),\\s*([0-9]+)\\)$/i // not perfect\n\n    let Match = RGBPattern.exec(Color)\n    if (Match != null) {\n      return ('#' +\n        dec2hex(parseInt(Match[1],10)) +\n        dec2hex(parseInt(Match[2],10)) +\n        dec2hex(parseInt(Match[3],10)) + 'FF'\n      )\n    }\n\n    const RGBAPattern = /^rgba\\(([(0-9]+),\\s*([0-9]+),\\s*([0-9]+),\\s*([01]?[.][0-9]+|[01])\\)$/i // not perfect\n\n    Match = RGBAPattern.exec(Color)\n    if (Match != null) {\n      return ('#' +\n        dec2hex(parseInt(Match[1],10)) +\n        dec2hex(parseInt(Match[2],10)) +\n        dec2hex(parseInt(Match[3],10)) +\n        dec2hex(parseFloat(Match[4])*255)\n      )\n    }\n\n    throwError('InvalidArgument: the given Value is not a valid CSS Color specification')\n  }\n\n/**** RGBAColor - converts a given color to RGBA(r,g,b,a) ****/\n\n  export function RGBAColor (Color:string):string {\n    let lowerColor = Color.toLowerCase()\n    if (ColorSet.hasOwnProperty(lowerColor)) {\n// @ts-ignore TS dislikes indexing with literal keys\n      return ColorSet[lowerColor]             // color is already in RGBA format\n    }\n\n    if (/^#[a-fA-F0-9]{6}$/.test(Color)) {\n      return ('rgba(' +\n        parseInt(Color.slice(1,3),16) + ',' +\n        parseInt(Color.slice(3,5),16) + ',' +\n        parseInt(Color.slice(5,7),16) + ', 1' +\n      ')')\n    }\n\n    if (/^#[a-fA-F0-9]{8}$/.test(Color)) {\n      return ('rgba(' +\n        parseInt(Color.slice(1,3),16) + ',' +\n        parseInt(Color.slice(3,5),16) + ',' +\n        parseInt(Color.slice(5,7),16) + ',' +\n        (parseInt(Color.slice(7),16)/255) +\n      ')')\n    }\n\n    const RGBPattern = /^rgb\\(([0-9]+),\\s*([0-9]+),\\s*([0-9]+)\\)$/i //not perfect\n\n    let Match = RGBPattern.exec(Color)\n    if (Match != null) {\n      return Color.slice(0,Color.length-1) + ',1)'\n    }\n\n    const RGBAPattern = /^rgba\\(([(0-9]+),\\s*([0-9]+),\\s*([0-9]+),\\s*([0]?[.][0-9]+|[01])\\)$/i // not perfect\n\n    Match = RGBAPattern.exec(Color)\n    if (Match != null) { return Color }\n\n    throwError('InvalidArgument: the given Value is not a valid CSS Color specification')\n  }\n\n/**** shortHexColor - converts a given color into #RRGGBB ****/\n\n  export function shortHexColor (Color:string):string {\n    return HexColor(Color).slice(0,7)\n  }"],"names":["global","Function","Object_hasOwnProperty","Value","PropertyName","hasOwnProperty","Object","prototype","call","Object_isPrototypeOf","Candidate","isPrototypeOf","throwError","Message","Match","exec","Error","namedError","name","ValueIsBoolean","Boolean","ValueIsNumber","Number","ValueIsFiniteNumber","isFinite","valueOf","ValueIsNaN","isNaN","ValueIsInteger","Math","round","ValueIsOrdinal","ValueIsCardinal","ValueIsString","String","emptyStringPattern","ValueIsNonEmptyString","test","ValueIsStringMatching","Pattern","noCtrlCharsButCRLFPattern","ValueIsText","noCtrlCharsPattern","ValueIsTextline","ValueIsFunction","ValueIsAnonymousFunction","ValueIsNamedFunction","ValueIsNativeFunction","toString","ValueIsScriptedFunction","ValueIsObject","ValueIsPlainObject","getPrototypeOf","ValueIsVanillaObject","ValueIsArray","Array","isArray","ValueIsList","minLength","maxLength","i","l","length","undefined","ValueIsListSatisfying","Validator","Signal","ValueIsDate","Date","ValueIsError","ValueIsPromise","then","ValueIsRegExp","RegExp","ValueIsOneOf","ValueList","indexOf","ValueIsColor","ColorSet","EMailAddressPattern","ValueIsEMailAddress","noCtrlCharsOrWhitespacePattern","ValueIsURL","URL","rejectNil","acceptNil","validatedArgument","Description","Argument","ValueIsValid","NilIsAcceptable","Expectation","escaped","concat","ValidatorForClassifier","Classifier","ClassifierName","FunctionWithName","replace","originalFunction","desiredName","defineProperty","value","signal","renamed","expectValue","expectedValue","allowBoolean","allowedBoolean","expectBoolean","expectedBoolean","allowNumber","allowedNumber","expectNumber","expectedNumber","allowFiniteNumber","allowedFiniteNumber","expectFiniteNumber","expectedFiniteNumber","allowNaN","allowedNaN","expectNaN","expectedNaN","allowNumberInRange","minValue","maxValue","withMin","withMax","expectedNumberInRange","allowedNumberInRange","expectNumberInRange","RangeError","allowInteger","allowedInteger","expectInteger","expectedInteger","allowIntegerInRange","expectedIntegerInRange","allowedIntegerInRange","expectIntegerInRange","allowOrdinal","allowedOrdinal","expectOrdinal","expectedOrdinal","allowCardinal","allowedCardinal","expectCardinal","expectedCardinal","allowString","allowedString","expectString","expectedString","allowNonEmptyString","allowedNonEmptyString","expectNonEmptyString","expectedNonEmptyString","allowStringMatching","expectedStringMatching","allowedStringMatching","expectStringMatching","allowText","allowedText","expectText","expectedText","allowTextline","allowedTextline","expectTextline","expectedTextline","allowFunction","allowedFunction","expectFunction","expectedFunction","allowAnonymousFunction","allowedAnonymousFunction","expectAnonymousFunction","expectedAnonymousFunction","allowNamedFunction","allowedNamedFunction","expectNamedFunction","expectedNamedFunction","allowNativeFunction","allowedNativeFunction","expectNativeFunction","expectedNativeFunction","allowScriptedFunction","allowedScriptedFunction","expectScriptedFunction","expectedScriptedFunction","allowObject","allowedObject","expectObject","expectedObject","allowPlainObject","allowedPlainObject","expectPlainObject","expectedPlainObject","allowVanillaObject","allowedVanillaObject","expectVanillaObject","expectedVanillaObject","allowArray","expectedArray","allowedArray","expectArray","allowList","expectedList","allowedList","expectList","allowListSatisfying","expectedListSatisfying","allowedListSatisfying","expectListSatisfying","allowInstanceOf","constructor","expectedInstanceOf","allowedInstanceOf","expectInstanceOf","allowValueInheritingFrom","expectedValueInheritingFrom","allowedValueInheritingFrom","expectValueInheritingFrom","allowDate","allowedDate","expectDate","expectedDate","allowError","allowedError","expectError","expectedError","allowPromise","allowedPromise","expectPromise","expectedPromise","allowRegExp","allowedRegExp","expectRegExp","expectedRegExp","allowOneOf","expectedOneOf","allowedOneOf","expectOneOf","allowColor","allowedColor","expectColor","expectedColor","allowEMailAddress","allowedEMailAddress","expectEMailAddress","expectedEMailAddress","allowURL","allowedURL","expectURL","expectedURL","Text","HexCode","charCodeAt","slice","quotable","Quote","HTMLsafe","EOLReplacement","trim","Result","substring","ValuesDiffer","thisValue","otherValue","Mode","thisType","abs","EPSILON","thisArray","otherArray","ArraysDiffer","thisObject","otherObject","key","ObjectsDiffer","ObjectIsEmpty","Key","StringIsEmpty","transparent","aliceblue","lightpink","antiquewhite","lightsalmon","aqua","lightseagreen","aquamarine","lightskyblue","azure","lightslategray","beige","lightslategrey","bisque","lightsteelblue","black","lightyellow","blanchedalmond","lime","blue","limegreen","blueviolet","linen","brown","magenta","burlywood","maroon","cadetblue","mediumaquamarine","chartreuse","mediumblue","chocolate","mediumorchid","coral","mediumpurple","cornflowerblue","mediumseagreen","cornsilk","mediumslateblue","crimson","mediumspringgreen","cyan","mediumturquoise","darkblue","mediumvioletred","darkcyan","midnightblue","darkgoldenrod","mintcream","darkgray","mistyrose","darkgreen","moccasin","darkgrey","navajowhite","darkkhaki","navy","darkmagenta","oldlace","darkolivegreen","olive","darkorange","olivedrab","darkorchid","orange","darkred","orangered","darksalmon","orchid","darkseagreen","palegoldenrod","darkslateblue","palegreen","darkslategray","paleturquoise","darkslategrey","palevioletred","darkturquoise","papayawhip","darkviolet","peachpuff","deeppink","peru","deepskyblue","pink","dimgray","plum","dimgrey","powderblue","dodgerblue","purple","firebrick","red","floralwhite","rosybrown","forestgreen","royalblue","fuchsia","saddlebrown","gainsboro","salmon","ghostwhite","sandybrown","gold","seagreen","goldenrod","seashell","gray","sienna","green","silver","greenyellow","skyblue","grey","slateblue","honeydew","slategray","hotpink","slategrey","indianred","snow","indigo","springgreen","ivory","steelblue","khaki","tan","lavender","teal","lavenderblush","thistle","lawngreen","tomato","lemonchiffon","turquoise","lightblue","violet","lightcoral","wheat","lightcyan","white","lightgoldenrodyellow","whitesmoke","lightgray","yellow","lightgreen","yellowgreen","lightgrey","HexColor","Color","lowerColor","toLowerCase","HexDigit","dec2hex","trunc","parseInt","parseFloat","TargetObject","otherObjectList","_i","arguments","Descriptor","getOwnPropertyDescriptor","propertyIsEnumerable","toLocaleString","Prototype","Constructor","Minimum","Maximum","Infinity","max","min","CharCode","fromCharCode"],"mappings":"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"}